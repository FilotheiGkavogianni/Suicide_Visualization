
# load data
# at this dataset i remove all the quotation marks
oecd<- read.csv("C:/Users/filothei/Desktop/DataVisualization_Project1/suicides/suicide II OECD.csv.txt", header = TRUE)
library("readxl")
eurostat <- read_excel("C:/Users/filothei/Desktop/DataVisualization_Project1/suicides/suicide1.xls",col_names =TRUE, skip=2)


# Define a server for the Shiny app
server<- function(input, output) {
  
  # Fill in the spot we created for a plot
  output$countryPlot <- renderPlot({
    
    # Render a barplot
    barplot(barplot_shiny_data[,input$Country],
			main=input$Country,
            ylab="Number of Telephones",
            xlab="Year")
  })
}
ui<-fluidPage(    
  
  # Give the page a title
  titlePanel("Suicides by Country"),
  
  # Generate a row with a sidebar
  sidebarLayout(      
    
    # Define the sidebar with one input
    sidebarPanel(
      selectInput("Country", "Country:", 
                  choices=colnames(barplot_shiny_data)),
      hr()
    ),
    
    # Create a spot for the barplot
    mainPanel(
      plotOutput("countryPlot")  
    )
    
  )
)

shinyApp(ui = ui, server = server)


barplot_shiny_data <-as.matrix(t(eurostat), rownames.force = NA)
colnames(barplot_shiny_data)<-barplot_shiny_data[1,]
barplot_shiny_data<-barplot_shiny_data[-1,]
class(barplot_shiny_data)<-"numeric"